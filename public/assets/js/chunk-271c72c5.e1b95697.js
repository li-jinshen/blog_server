(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-271c72c5"],{"109a":function(t,s,e){"use strict";var a=e("bacc"),i=e.n(a);i.a},8598:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"result-container"},[e("my-scroll",{ref:"searchScroll"},[e("div",{staticClass:"el-input el-input--small el-input--prefix"},[e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.keyword,expression:"keyword",modifiers:{lazy:!0}}],staticClass:"el-input__inner",attrs:{type:"text",autocomplete:"off",placeholder:"输入关键字，点击回车键即可搜索"},domProps:{value:t.keyword},on:{change:function(s){t.keyword=s.target.value}}}),e("span",{staticClass:"el-input__prefix"},[e("i",{staticClass:"el-input__icon el-icon-search"})])]),e("div",{staticClass:"title-wrap"},[e("span",{staticClass:"title"},[t._v("关键词："+t._s(t.keyword))]),e("span",{staticClass:"sub-title"},[t._v("找到"+t._s(t.total)+"个结果")])]),e("el-tabs",{model:{value:t.activeIndex,callback:function(s){t.activeIndex=s},expression:"activeIndex"}},[e("el-tab-pane",{attrs:{label:"歌曲",name:"songs"}},[e("table",{staticClass:"el-table"},[e("thead",[e("th",{staticClass:"sort"}),e("th",[t._v("音乐标题")]),e("th",[t._v("歌手")]),e("th",[t._v("专辑")]),e("th",{staticClass:"time"},[t._v("时长")])]),e("tbody",t._l(t.songs,(function(s,a){return e("tr",{key:a,staticClass:"el-table__row",on:{click:function(e){return t.playmusic(s)}}},[e("td",{staticClass:"td_sort",staticStyle:{width:"50px"}},[t._v(t._s(a+1))]),e("td",{staticStyle:{width:"200px"}},[e("div",{staticClass:"song-wrap"},[e("div",{staticClass:"name-wrap"},[e("span",[t._v(t._s(s.name))]),s.mvid?e("span",{staticClass:"iconfont icon-mv"}):t._e()])])]),e("td",{staticStyle:{width:"150px"}},[t._v(t._s(s.artists[0].name))]),e("td",{staticStyle:{width:"300px"}},[t._v(t._s(s.album.name))]),e("td",{staticClass:"td_time"},[t._v(t._s(t._f("formDate")(s.duration)))])])})),0)])]),e("el-tab-pane",{attrs:{label:"歌单",name:"lists"}},[e("div",{staticClass:"recom"},t._l(t.lists,(function(s,a){return e("div",{key:a,staticClass:"recom-item",on:{click:function(e){return t.golist(s.id)}}},[e("div",{staticClass:"imgbox"},[e("div",{staticClass:"dsc"},[e("i",[t._v("播放量："+t._s(t._f("count")(s.playCount)))])]),e("img",{attrs:{src:s.coverImgUrl,alt:""}}),e("span",{staticClass:"iconfont icon-play"})]),e("div",{staticClass:"listname"},[t._v(t._s(s.name))])])})),0)]),e("el-tab-pane",{attrs:{label:"MV",name:"mv"}},[e("div",{staticClass:"items"},t._l(t.mvs,(function(s,a){return e("div",{key:a,staticClass:"item",on:{click:function(e){return t.toMv(s.id)}}},[e("div",{staticClass:"img-wrap"},[e("img",{attrs:{src:s.cover,alt:""}}),e("div",{staticClass:"num-wrap"},[e("div",{staticClass:"iconfont icon-play"}),e("div",{staticClass:"num"},[t._v(t._s(t._f("count")(s.playCount)))])]),e("div",{staticClass:"iconbox"},[e("span",{staticClass:"iconfont icon-play"})])]),e("div",{staticClass:"info-wrap"},[e("div",{staticClass:"name"},[t._v(t._s(s.name))]),e("div",{staticClass:"singer"},[t._v(t._s(s.artistName))])])])})),0)])],1),e("div",{staticClass:"pagebox"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":12,"hide-on-single-page":""},on:{"current-change":t.handleCurrentChange}})],1),t.total>0?e("div",{staticClass:"more",on:{click:t.loadMore}},[t._v(" 查看更多 ")]):t._e()],1)],1)},i=[],n=e("2909"),c=(e("96cf"),e("1da1")),r=e("1857"),l={name:"result",data:function(){return{activeIndex:"songs",keyword:"",count:0,limit:12,total:0,type:1,page:1,songs:[],lists:[],mvs:[]}},filters:{formDate:function(t){var s=parseInt(t/1e3/60);s<10&&(s="0"+s);var e=parseInt(t/1e3%60);return e<10&&(e="0"+e),s+":"+e},count:function(t){return t>=1e4&&(t=Math.ceil(t/1e4)+"万"),t}},watch:{keyword:function(t){t&&(this.page=1,this.keyword=t,this.clicksearch())},activeIndex:function(t){switch(t){case"songs":this.type=1,this.page=1,this.clicksearch();break;case"lists":this.type=1e3,this.page=1,this.clicksearch();break;case"mv":this.type=1004,this.page=1,this.clicksearch();break}}},created:function(){},methods:{golist:function(t){this.$router.push("/musichome/listinfo?id=".concat(t))},toMv:function(t){this.$router.push("/musichome/videoinfo?id=".concat(t))},handleCurrentChange:function(t){this.page=t,this.clicksearch(),this.$refs["searchScroll"].$refs["vs"].scrollTo({y:"0%"},0)},clicksearch:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var e;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Object(r["q"])({keywords:t.keyword,type:t.type,limit:t.limit,offset:(t.page-1)*t.limit});case 2:e=s.sent,1==t.type?(t.songs=e.result.songs,t.total=e.result.songCount):1e3==t.type?(t.lists=e.result.playlists,t.total=e.result.playlistCount):(t.mvs=e.result.mvs,t.total=e.result.mvCount);case 4:case"end":return s.stop()}}),s)})))()},playmusic:function(t){var s=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.$store.dispatch("getSong",{id:t.id,autoPlay:!0});case 1:case"end":return e.stop()}}),e)})))()},loadMore:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var e,a,i,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.page++,s.next=3,Object(r["q"])({keywords:t.keyword,type:t.type,limit:t.limit,offset:(t.page-1)*t.limit});case 3:e=s.sent,1==t.type?((a=t.songs).push.apply(a,Object(n["a"])(e.result.songs)),t.total=e.result.songCount):1e3==t.type?((i=t.lists).push.apply(i,Object(n["a"])(e.result.playlists)),t.total=e.result.playlistCount):((c=t.mvs).push.apply(c,Object(n["a"])(e.result.mvs)),t.total=e.result.mvCount);case 5:case"end":return s.stop()}}),s)})))()}}},o=l,u=(e("109a"),e("2877")),p=Object(u["a"])(o,a,i,!1,null,"eea20004",null);s["default"]=p.exports},bacc:function(t,s,e){}}]);