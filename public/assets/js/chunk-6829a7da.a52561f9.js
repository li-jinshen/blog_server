(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6829a7da"],{3603:function(t,s,a){},8598:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"result-container"},[a("vue-scroll",{ref:"vs",attrs:{ops:t.ops}},[a("div",{staticClass:"el-input el-input--small el-input--prefix"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.keyword,expression:"keyword",modifiers:{lazy:!0}}],staticClass:"el-input__inner",attrs:{type:"text",autocomplete:"off",placeholder:"输入关键字，点击回车键即可搜索"},domProps:{value:t.keyword},on:{change:function(s){t.keyword=s.target.value}}}),a("span",{staticClass:"el-input__prefix"},[a("i",{staticClass:"el-input__icon el-icon-search"})])]),a("div",{staticClass:"title-wrap"},[a("span",{staticClass:"title"},[t._v("关键词："+t._s(t.keyword))]),a("span",{staticClass:"sub-title"},[t._v("找到"+t._s(t.count)+"个结果")])]),a("el-tabs",{model:{value:t.activeIndex,callback:function(s){t.activeIndex=s},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"歌曲",name:"songs"}},[a("table",{staticClass:"el-table"},[a("thead",[a("th"),a("th",[t._v("音乐标题")]),a("th",[t._v("歌手")]),a("th",[t._v("专辑")]),a("th",[t._v("时长")])]),a("tbody",t._l(t.songs,(function(s,e){return a("tr",{key:e,staticClass:"el-table__row",on:{click:function(a){return t.playmusic(s)}}},[a("td",{staticStyle:{width:"50px"}},[t._v(t._s(e+1))]),a("td",{staticStyle:{width:"200px"}},[a("div",{staticClass:"song-wrap"},[a("div",{staticClass:"name-wrap"},[a("span",[t._v(t._s(s.name))]),s.mvid?a("span",{staticClass:"iconfont icon-mv"}):t._e()])])]),a("td",{staticStyle:{width:"150px"}},[t._v(t._s(s.artists[0].name))]),a("td",{staticStyle:{width:"300px"}},[t._v(t._s(s.album.name))]),a("td",[t._v(t._s(t._f("formDate")(s.duration)))])])})),0)])]),a("el-tab-pane",{attrs:{label:"歌单",name:"lists"}},[a("div",{staticClass:"recom"},t._l(t.lists,(function(s,e){return a("div",{key:e,staticClass:"recom-item",on:{click:function(a){return t.golist(s.id)}}},[a("div",{staticClass:"imgbox"},[a("div",{staticClass:"dsc"},[a("i",[t._v("播放量："+t._s(t._f("count")(s.playCount)))])]),a("img",{attrs:{src:s.coverImgUrl,alt:""}}),a("span",{staticClass:"iconfont icon-play"})]),a("div",{staticClass:"listname"},[t._v(t._s(s.name))])])})),0)]),a("el-tab-pane",{attrs:{label:"MV",name:"mv"}},[a("div",{staticClass:"items"},t._l(t.mvs,(function(s,e){return a("div",{key:e,staticClass:"item",on:{click:function(a){return t.toMv(s.id)}}},[a("div",{staticClass:"img-wrap"},[a("img",{attrs:{src:s.cover,alt:""}}),a("div",{staticClass:"num-wrap"},[a("div",{staticClass:"iconfont icon-play"}),a("div",{staticClass:"num"},[t._v(t._s(t._f("count")(s.playCount)))])]),a("div",{staticClass:"iconbox"},[a("span",{staticClass:"iconfont icon-play"})])]),a("div",{staticClass:"info-wrap"},[a("div",{staticClass:"name"},[t._v(t._s(s.name))]),a("div",{staticClass:"singer"},[t._v(t._s(s.artistName))])])])})),0)])],1),a("div",{staticClass:"pagebox"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":12,"hide-on-single-page":""},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)},i=[],n=(a("b0c0"),{name:"result",data:function(){return{activeIndex:"songs",keyword:"",count:0,limit:12,total:0,type:1,page:1,songs:[],lists:[],mvs:[],ops:{vuescroll:{sizeStrategy:"percent",detectResize:!0},scrollPanel:{scrollingX:!1},rail:{},bar:{showDelay:500,onlyShowBarOnScroll:!1,keepShow:!1,background:"#b3c0d1",opacity:1,hoverStyle:!1,specifyBorderRadius:!1,minSize:!1,size:"6px",disable:!1}}}},filters:{formDate:function(t){var s=parseInt(t/1e3/60);s<10&&(s="0"+s);var a=parseInt(t/1e3%60);return a<10&&(a="0"+a),s+":"+a},count:function(t){return t>=1e4&&(t=Math.ceil(t/1e4)+"万"),t}},watch:{keyword:function(t){t&&(this.page=1,this.keyword=t,this.getResult())},activeIndex:function(t){switch(t){case"songs":this.type=1,this.page=1,this.getResult();break;case"lists":this.type=1e3,this.page=1,this.getResult();break;case"mv":this.type=1004,this.page=1,this.getResult();break}}},created:function(){},methods:{golist:function(t){this.$router.push("/musichome/listinfo?id=".concat(t))},toMv:function(t){this.$router.push("/musichome/videoinfo?id=".concat(t))},handleCurrentChange:function(t){this.page=t,this.getResult(),this.$refs["vs"].scrollTo({y:"0%"},0)},getResult:function(){var t=this;axios({url:"https://autumnfish.cn/search",method:"get",params:{keywords:this.keyword,type:this.type,limit:this.limit,offset:(this.page-1)*this.limit}}).then((function(s){1==t.type?(t.songs=s.data.result.songs,t.total=s.data.result.songCount):1e3==t.type?(t.lists=s.data.result.playlists,t.total=s.data.result.playlistCount):(t.mvs=s.data.result.mvs,t.total=s.data.result.mvCount)}))},playmusic:function(t){var s=this;axios({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t.id,limit:50}}).then((function(a){if(a.data.data[0].url){var e="";e=t.album.blurPicUrl?t.album.blurPicUrl:"https://i.loli.net/2020/03/23/m6KE9A2dQXa5zJU.png",s.$store.commit("upDateSong",{musicUrl:a.data.data[0].url,imgUrl:e,name:"歌曲正在加载中...",songName:t.name,author:t.artists[0].name,id:t.id})}else s.$notify.error({title:"错误",message:"该歌曲无法获取"})}))}}}),l=n,o=(a("d2c5"),a("2877")),c=Object(o["a"])(l,e,i,!1,null,"0e57e5dc",null);s["default"]=c.exports},d2c5:function(t,s,a){"use strict";var e=a("3603"),i=a.n(e);i.a}}]);