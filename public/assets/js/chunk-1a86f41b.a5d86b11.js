(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a86f41b"],{"5880a":function(t,a,s){"use strict";var e=s("bd74"),i=s.n(e);i.a},"9e21":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"playlist-container",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[s("vue-scroll",{ref:"vs",attrs:{ops:t.ops}},[s("div",{staticClass:"top-wrap"},[s("div",{staticClass:"topimg-wrap"},[s("img",{attrs:{src:t.playlist.coverImgUrl,alt:""}})]),s("div",{staticClass:"info-wrap"},[s("p",{staticClass:"title"},[t._v(t._s(t.playlist.name))]),s("div",{staticClass:"author-wrap"},[void 0!==t.playlist.creator?s("img",{staticClass:"avatar",attrs:{src:t.playlist.creator.avatarUrl,alt:""}}):t._e(),void 0!==t.playlist.creator?s("span",{staticClass:"name"},[t._v(t._s(t.playlist.creator.nickname))]):t._e(),s("span",{staticClass:"time"},[t._v(t._s(t._f("dateFormat")(t.playlist.createTime)))])]),s("div",{staticClass:"play-wrap",on:{click:function(a){return t.playList(t.playlist.tracks)}}},[s("span",{staticClass:"iconfont icon-circle-play"}),s("span",{staticClass:"text"},[t._v("播放全部")])]),s("div",{staticClass:"tag-wrap"},[s("span",{staticClass:"title"},[t._v("标签:")]),s("ul",t._l(t.playlist.tags,(function(a,e){return s("li",{key:e},[t._v(" "+t._s(a)+" ")])})),0)])])]),s("div",{staticClass:"desc-wrap"},[s("span",{staticClass:"title"},[t._v("简介:")]),s("span",{staticClass:"desc"},[t._v(t._s(t.playlist.description))])]),s("el-tabs",{model:{value:t.activeIndex,callback:function(a){t.activeIndex=a},expression:"activeIndex"}},[s("el-tab-pane",{attrs:{label:"歌曲列表",name:"1"}},[s("table",{staticClass:"el-table playlit-table"},[s("thead",[s("th"),s("th"),s("th",[t._v("音乐标题")]),s("th",[t._v("歌手")]),s("th",[t._v("专辑")]),s("th",[t._v("时长")])]),s("tbody",t._l(t.playlist.tracks,(function(a,e){return s("tr",{key:e,staticClass:"el-table__row",on:{click:function(s){return t.playMusic(a)}}},[s("td",{staticStyle:{width:"50px"}},[t._v(t._s(e+1))]),s("td",[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.al.picUrl+"?param=130y130",alt:""}}),s("span",{staticClass:"iconfont icon-play"})])]),s("td",[s("div",{staticClass:"song-wrap"},[s("div",{staticClass:"name-wrap"},[s("span",[t._v(t._s(a.name))]),0!==a.mvid?s("span",{staticClass:"iconfont icon-mv"}):t._e()])])]),s("td",[t._v(t._s(a.ar[0].name))]),s("td",[t._v(t._s(a.al.name))]),s("td",[t._v(t._s(t._f("formDate")(a.dt)))])])})),0)])]),s("el-tab-pane",{attrs:{label:"评论("+t.total+")",name:"2"}},[void 0!==t.hotComments&&0!==t.hotComments.length?s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 精彩评论 "),s("span",{staticClass:"number"},[t._v("("+t._s(t.hotComments.length)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.hotComments,(function(a,e){return s("div",{key:e,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl+"?param=50y50",alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.content))])]),0!==a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(a.time)))])])])})),0)]):t._e(),s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 最新评论 "),s("span",{staticClass:"number"},[t._v("("+t._s(t.total)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.comments,(function(a,e){return s("div",{key:e,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl+"?param=50y50",alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.content))])]),0!==a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(a.time)))])])])})),0)]),s("div",{staticClass:"pagebox"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.pageNum,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1)])],1)],1)],1)},i=[],n=(s("b0c0"),s("96cf"),s("1da1")),l=s("1857"),r={name:"playlist",data:function(){return{loading:!0,id:"",activeIndex:"1",total:0,pageNum:1,pageSize:10,playlist:{},hotComments:[],comments:[],ops:{vuescroll:{sizeStrategy:"percent",detectResize:!0},scrollPanel:{scrollingX:!1},rail:{},bar:{showDelay:500,onlyShowBarOnScroll:!1,keepShow:!0,background:"#b3c0d1",opacity:1,hoverStyle:!1,specifyBorderRadius:!1,minSize:!1,size:"6px",disable:!1}}}},filters:{formDate:function(t){var a=parseInt(t/1e3/60);a<10&&(a="0"+a);var s=parseInt(t/1e3%60);return s<10&&(s="0"+s),a+":"+s}},created:function(){this.id=this.$route.query.id,this.listdetail(),this.listcomments()},methods:{handleCurrentChange:function(t){this.pageNum=t,this.getPlaylistComments()},playList:function(t,a){this.$store.commit("addlist",t)},listdetail:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["f"])({id:t.id});case 2:s=a.sent,t.avatarUrl=s.playlist.creator.avatarUrl,t.playlist=s.playlist,t.loading=!1;case 6:case"end":return a.stop()}}),a)})))()},listcomments:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["e"])({id:t.id,limit:t.pageSize,offset:(t.pageNum-1)*t.pageSize});case 2:s=a.sent,t.comments=s.comments,t.hotComments=s.hotComments,t.total=s.total;case 6:case"end":return a.stop()}}),a)})))()},playMusic:function(t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var e,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Object(l["m"])({id:t.id});case 2:e=s.sent,console.log(e),e.data[0].url?(i="",i=t.al.picUrl?t.al.picUrl:"https://i.loli.net/2020/03/23/m6KE9A2dQXa5zJU.png",a.$store.commit("upDateSong",{musicUrl:e.data[0].url,imgUrl:i,name:"歌曲正在加载中...",songName:t.name,author:t.ar[0].name,id:t.id})):a.$notify.error({title:"错误",message:"该歌曲无法获取"});case 5:case"end":return s.stop()}}),s)})))()}}},c=r,o=(s("5880a"),s("2877")),p=Object(o["a"])(c,e,i,!1,null,"3dbf123e",null);a["default"]=p.exports},bd74:function(t,a,s){}}]);