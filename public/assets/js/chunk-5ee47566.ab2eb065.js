(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ee47566"],{"57d2":function(e,t,r){},7501:function(e,t,r){"use strict";var n=r("57d2"),s=r.n(n);s.a},a775:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"managebox"},[r("div",{staticClass:"formbox"},[e.isLogin?r("el-form",{ref:"login-form",attrs:{model:e.login}},[r("el-form-item",[r("el-input",{attrs:{"prefix-icon":"el-icon-notebook-2",placeholder:"请输入登陆账号"},model:{value:e.login.account,callback:function(t){e.$set(e.login,"account",t)},expression:"login.account"}})],1),r("el-form-item",[r("el-input",{attrs:{placeholder:"请输入密码","prefix-icon":"el-icon-lock","show-password":""},model:{value:e.login.passWord,callback:function(t){e.$set(e.login,"passWord",t)},expression:"login.passWord"}})],1),r("el-form-item",{staticClass:"btn_box"},[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("登陆")]),r("span",{staticClass:"register",on:{click:e.changeIsLogin}},[e._v("注册>>")])],1)],1):r("el-form",{ref:"register-form",attrs:{model:e.register}},[r("el-form-item",[r("el-input",{attrs:{"prefix-icon":"el-icon-user-solid",placeholder:"请输入用户名",minlength:"2",maxlength:"4",type:"text","show-word-limit":""},model:{value:e.register.name,callback:function(t){e.$set(e.register,"name",t)},expression:"register.name"}})],1),r("el-form-item",[r("el-input",{attrs:{placeholder:"请输入密码(5-10位数字、字母)","prefix-icon":"el-icon-lock",type:"password","show-password":"","show-word-limit":""},model:{value:e.register.passWord,callback:function(t){e.$set(e.register,"passWord",t)},expression:"register.passWord"}})],1),r("el-form-item",[r("el-input",{attrs:{"prefix-icon":"el-icon-notebook-2",placeholder:"请输入注册邀请码"},model:{value:e.register.inviteCode,callback:function(t){e.$set(e.register,"inviteCode",t)},expression:"register.inviteCode"}})],1),r("el-form-item",{staticClass:"btn_box"},[r("el-button",{attrs:{type:"primary"},on:{click:e.onRegister}},[e._v("注册")]),r("span",{staticClass:"register",on:{click:e.changeIsLogin}},[e._v("登录>>")])],1)],1)],1)])},s=[],o=(r("b0c0"),r("96cf"),r("1da1")),a=r("0c6d"),i={data:function(){return{isLogin:!0,login:{account:"",passWord:""},register:{name:"",passWord:"",inviteCode:""}}},methods:{onSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])({url:"/user/login",data:{account:e.login.account,passWord:e.login.passWord},method:"post"});case 2:if(r=t.sent,n=r.token,window.localStorage.setItem("blogToken",JSON.stringify({token:n,date:new Date})),!r.status){t.next=16;break}return e.$notify({title:"成功",message:r.msg,type:"success"}),e.$EventBus.$emit("changeIsLogin"),e.$router.push("/backend"),t.next=11,Object(a["a"])({url:"/unread/obtain",data:{},method:"get"});case 11:s=t.sent,e.$store.commit("pushCom",s.data),e.$store.commit("upDateStaus",!0),t.next=17;break;case 16:e.$message.error(r.msg);case 17:case"end":return t.stop()}}),t)})))()},onRegister:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.register.name.length,n=e.register.passWord.length,s=e.register.inviteCode.length,!(n<6||n>10)){t.next=6;break}return e.$message({message:"密码长度为5-10位",type:"warning"}),t.abrupt("return");case 6:if(!(r<2||r>4)){t.next=9;break}return e.$message({message:"用户名长度为2-4个字符",type:"warning"}),t.abrupt("return");case 9:if(!(s<3)){t.next=12;break}return e.$message({message:"邀请码错误",type:"warning"}),t.abrupt("return");case 12:return t.next=14,Object(a["a"])({url:"/user/register",data:{userName:e.register.name,passWord:e.register.passWord,inviteCode:e.register.inviteCode},method:"post"});case 14:o=t.sent,o.status&&e.$alert("注册成功，登陆账号为：<strong>".concat(o.account,"</strong> ，请保存好登陆账号，以免丢失"),"通知",{dangerouslyUseHTMLString:!0});case 16:case"end":return t.stop()}}),t)})))()},changeIsLogin:function(){this.isLogin=!this.isLogin}}},c=i,l=(r("7501"),r("2877")),u=Object(l["a"])(c,n,s,!1,null,"44bf016d",null);t["default"]=u.exports}}]);